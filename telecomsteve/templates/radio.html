{% extends "sidebar.html" %}
{% block content %}

    <div w3-include-html="../navbar_index.html"></div>
    <link rel="stylesheet" href="../static/radio.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">

        <div class="main">

            <div class="radio_parent blue">
                <div class="radio_box green"><button class="bn30" id="btn-classic" onclick="play_classic()">Classic</button></div>
                <audio id="audio_1" src="http://www.sousound.com/music/healing/healing_06.mp3" preload="auto"></audio>

                <div class="radio_box green"><button class="bn30" id="btn-ambient" onclick="play_ambient()">Ambient</button></div>
                <audio id="audio_2" src="https://storage.googleapis.com/telecomsteve-website/audio/trap_and_ink.wav" preload="auto"></audio>

                <div class="radio_box green"><button class="bn30" id="btn-lofi" onclick="play_lofi()">LoFi</button></div>
                <audio id="audio_3" src="https://www.sousound.com/music/healing/healing_01.mp3" preload="auto"></audio>
            </div>
            <div class="radio_text">
                <h1>Choose Your <span class="radio_header">Vibe</span></h1>
                <br>
                <p>Web3 Radio is a decentralized demo application for the book Web3 Application Architecture <br><br>
                    (Steven Platt, Manning Publishing 2023)</p>
            </div>
        </div>

    <script>
        var classic_audio = document.getElementById('audio_1');
        var ambient_audio = document.getElementById('audio_2');
        var lofi_audio = document.getElementById('audio_3');

        var classic_playing = false;
        var ambient_playing = false;
        var lofi_playing = false;

        function play_classic() {
            classic_playing ? classic_audio.pause() : classic_audio.play();
            classic_audio.loop = true;

            ambient_audio.pause();
            lofi_audio.pause();
        };

        classic_audio.onplaying = function() {
            classic_playing = true;
            document.getElementById("btn-classic").classList.toggle("playing");
        };

        classic_audio.onpause = function() {
            classic_playing = false;
            document.getElementById("btn-classic").classList.toggle("playing");
        };


        function play_ambient() {
            ambient_audio.loop = true;
            ambient_playing ? ambient_audio.pause() : ambient_audio.play();

            classic_audio.pause();
            lofi_audio.pause();
        };

        ambient_audio.onplaying = function() {
            ambient_playing = true;
            document.getElementById("btn-ambient").classList.toggle("playing");
        };

        ambient_audio.onpause = function() {
            ambient_playing = false;
            document.getElementById("btn-ambient").classList.toggle("playing");
        };


        function play_lofi() {
            lofi_audio.loop = true;
            lofi_playing ? lofi_audio.pause() : lofi_audio.play();
            
            classic_audio.pause();
            ambient_audio.pause();
        };

        lofi_audio.onplaying = function() {
            lofi_playing = true;
            document.getElementById("btn-lofi").classList.toggle("playing");
        };

        lofi_audio.onpause = function() {
            lofi_playing = false;
            document.getElementById("btn-lofi").classList.toggle("playing");
        };

    </script>

{% endblock content %}
